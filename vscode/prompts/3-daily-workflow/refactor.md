# Refactoring Prompts

## 1. Extract to Pattern

/\*\*

-   Refactor this code to use pattern from patterns-library.md:
-
-   Current issues:
-   -   [Issue 1]
-   -   [Issue 2]
-
-   Requirements:
-   -   Extract common logic to base class
-   -   Maintain all tests passing
-   -   Use pattern: [pattern name]
-   -   Update to match anchor types
-   -   Improve readability
-
-   Show before/after comparison
    \*/

## 2. Optimize Performance

/\*\*

-   Optimize this code for performance:
-
-   Current bottlenecks:
-   -   [Bottleneck 1]
-   -   [Bottleneck 2]
-
-   Optimizations to apply:
-   -   Add caching where appropriate
-   -   Batch database operations
-   -   Use eager loading for relations
-   -   Optimize queries
-   -   Add database indexes
-
-   Maintain functionality and tests
    \*/

## 3. Improve Type Safety

/\*\*

-   Improve type safety in this code:
-
-   Requirements:
-   -   Replace all 'any' types
-   -   Add missing type annotations
-   -   Use types from anchor document
-   -   Add generic constraints
-   -   Fix type errors
-   -   Add runtime type validation
-
-   Do not change functionality
    \*/

## 4. Reduce Duplication

/\*\*

-   Remove duplication from these files:
-
-   1. Identify repeated code blocks
-   2. Extract to shared utilities
-   3. Create reusable functions
-   4. Update all usages
-   5. Add to patterns if reusable
-
-   Ensure all tests still pass
    \*/
